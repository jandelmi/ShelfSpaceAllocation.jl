<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · ShelfSpaceAllocation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><nav class="toc"><a href="../"><img class="logo" src="../assets/logo.svg" alt="ShelfSpaceAllocation logo"/></a><h1>ShelfSpaceAllocation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../guide/">Guide</a></li><li><a class="toctext" href="../model/">Model</a></li><li><a class="toctext" href="../visualization/">Visualization</a></li><li><a class="toctext" href="../io/">IO</a></li><li><a class="toctext" href="../heuristics/">Heuristics</a></li><li class="current"><a class="toctext" href>Library</a><ul class="internal"><li><a class="toctext" href="#Index-1">Index</a></li><li><a class="toctext" href="#Model-1">Model</a></li><li><a class="toctext" href="#IO-1">IO</a></li><li><a class="toctext" href="#Plotting-1">Plotting</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Library</a></li></ul><a class="edit-page" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/master/docs/src/library.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Library</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Library-1" href="#Library-1">Library</a></h1><p>Documentation for <code>ShelfSpaceAllocation.jl</code>&#39;s interface.</p><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#ShelfSpaceAllocation.block_allocation"><code>ShelfSpaceAllocation.block_allocation</code></a></li><li><a href="#ShelfSpaceAllocation.demand_and_sales"><code>ShelfSpaceAllocation.demand_and_sales</code></a></li><li><a href="#ShelfSpaceAllocation.extract_objectives"><code>ShelfSpaceAllocation.extract_objectives</code></a></li><li><a href="#ShelfSpaceAllocation.extract_variables"><code>ShelfSpaceAllocation.extract_variables</code></a></li><li><a href="#ShelfSpaceAllocation.fill_amount"><code>ShelfSpaceAllocation.fill_amount</code></a></li><li><a href="#ShelfSpaceAllocation.fill_percentage"><code>ShelfSpaceAllocation.fill_percentage</code></a></li><li><a href="#ShelfSpaceAllocation.load_parameters"><code>ShelfSpaceAllocation.load_parameters</code></a></li><li><a href="#ShelfSpaceAllocation.planogram"><code>ShelfSpaceAllocation.planogram</code></a></li><li><a href="#ShelfSpaceAllocation.product_facings"><code>ShelfSpaceAllocation.product_facings</code></a></li><li><a href="#ShelfSpaceAllocation.save_results"><code>ShelfSpaceAllocation.save_results</code></a></li><li><a href="#ShelfSpaceAllocation.shelf_space_allocation_model"><code>ShelfSpaceAllocation.shelf_space_allocation_model</code></a></li></ul><h2><a class="nav-anchor" id="Model-1" href="#Model-1">Model</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.shelf_space_allocation_model" href="#ShelfSpaceAllocation.shelf_space_allocation_model"><code>ShelfSpaceAllocation.shelf_space_allocation_model</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Mixed Integer Linear Program (MILP) formulation of the Shelf Space Allocation Problem (SSAP).</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/ShelfSpaceAllocation.jl#L94-L96">source</a></section><p><em>Sets and Subsets</em></p><ul><li><span>$p∈P$</span> – A set of <strong>products</strong>.</li><li><span>$s∈S$</span> – A set of <strong>shelves</strong>.</li><li><span>$b∈B$</span> – A set of <strong>blocks</strong>. Blocks are an index of mutually exclusive subsets of products.</li><li><span>$P_b⊆P$</span> – A <strong>block</strong> is a subset of products.</li><li><span>$m∈M$</span> – A set of <strong>modules</strong>. Modules are an index of a mutually exclusive subset of shelves.</li><li><span>$S_m⊆S$</span> – A <strong>module</strong> is a subset of shelves.</li></ul><p><em>Parameters</em></p><ul><li><span>$N_p^{min}$</span>, <span>$N_p^{max}$</span> – The minimum and maximum number of facings for product <span>$p$</span></li><li><span>$G_p$</span> – Unit profit of product <span>$p$</span>; used as shortage penalty (treated to be <span>$\max\{0, G_p\}$</span></li><li><span>$R_p$</span> – Replenishment period of product <span>$p$</span></li><li><span>$D_p$</span> – Demand forecast of product <span>$p$</span></li><li><span>$L_p$</span> – Priority weight for height placement of product <span>$p$</span></li><li><span>$W_p$</span> – Facing width of product <span>$p$</span></li><li><span>$H_p$</span> – Height of product <span>$p$</span></li><li><span>$M_p$</span> – Unit weight of product <span>$p$</span></li><li><span>$P_{p,s}$</span> – Number units per facing of product <span>$p$</span> on shelf <span>$s$</span></li><li><span>$M_s^{min}$</span>, <span>$M_s^{max}$</span> – The minimum and maximum unit weight on shelf <span>$s$</span></li><li><span>$W_s$</span> – Width of shelf <span>$s$</span></li><li><span>$H_s$</span> – Height of shelf <span>$s$</span></li><li><span>$L_p$</span> – Shelf level, counted from bottom to top</li><li><span>$SL$</span> – Slack, maximum difference in block starting points and between block max and min width</li></ul><p><em>Objective</em></p><div>\[\min \left(w_1 ∑_s o_s + w_2 ∑_p G_p e_p + w_3 ∑_{p,s} L_p L_s n_{p,s}\right)\]</div><ul><li><span>$w_1=0.5$</span></li><li><span>$w_2=10.0$</span></li><li><span>$w_3=0.1$</span></li></ul><p><em>Basic Variables</em></p><ul><li><span>$n_{p,s}$</span> – Number of facings of product <span>$p$</span> on shelf <span>$s$</span></li><li><span>$s_p$</span> – Amount of product <span>$p$</span> sold</li><li><span>$e_p$</span> – Shortage of product <span>$p$</span> (mismatch between demand and on-shelf inventory)</li><li><span>$o_p$</span> – Total empty space on shelf <span>$s$</span></li><li><span>$y_p$</span> – <span>$1$</span> if product is assigned to module <span>$m$</span>, <span>$0$</span> otherwise</li></ul><p><em>Basic Constraints</em></p><div>\[\begin{aligned}
&amp; n_{p,s} ∈ ℤ_{≥0}, &amp; ∀p,s \\
&amp; y_p ∈ \{0,1\}, &amp; ∀p \\
&amp; s_p ≥ 0, &amp; ∀p \\
&amp; e_p ≥ 0, &amp; ∀p \\
&amp; o_s ≥ 0, &amp; ∀s \\
&amp; \\
&amp; n_{p,s}=0, &amp; ∀p,s∣H_p &gt; H_s \\
&amp; n_{p,s}=0, &amp; ∀p,s∣M_p &gt; M_s^{max} \\
&amp; ∑_p n_{p,s} ≥ y_{p}, &amp; ∀p \\
&amp; N_p^{min} y_p ≤ ∑_s n_{p,s} ≤ N_p^{max} y_p, &amp; ∀p \\
&amp; s_p ≤ \min\left(∑_s \frac{30}{R_p} P_{p,s} n_{p,s}, D_p\right), &amp; ∀p \\
&amp; s_p + e_p = D_p, &amp; ∀p \\
&amp; ∑_p W_p n_{p,s} + o_s = W_s, &amp; ∀s \\
\end{aligned}\]</div><p><em>Block Variables</em></p><ul><li><span>$z_{b,s}$</span> – <span>$1$</span> if block is assigned on shelf <span>$s$</span>, otherwise <span>$0$</span></li><li><span>$z_{b,s}^f$</span> – <span>$1$</span> if shelf <span>$s$</span> is the first shelf of block <span>$b$</span>, otherwise <span>$0$</span></li><li><span>$z_{b,s}^l$</span> – <span>$1$</span> if shelf <span>$s$</span> is the last shelf of block <span>$b$</span>, otherwise <span>$0$</span></li><li><span>$b_{b,s}$</span> – Width of block <span>$b$</span> on shelf <span>$s$</span></li><li><span>$m_{b,m}$</span> – Block width on module</li><li><span>$v_{b,m}$</span> – <span>$1$</span> if block is assigned to module <span>$m$</span>, otherwise <span>$0$</span></li><li><span>$x_{b,s}$</span> – Block starting location on shelf <span>$s$</span></li><li><span>$x_{b,m}$</span> – Block starting location on module <span>$m$</span></li><li><span>$w_{b,b&#39;}$</span> – <span>$1$</span> if block <span>$b$</span> precedes block <span>$b&#39;$</span>, otherwise <span>$0$</span></li></ul><p><em>Block Constraints</em></p><div>\[\begin{aligned}
&amp; b_{b,s}≥0, &amp; ∀b,s \\
&amp; z_{b,s}∈\{0,1\}, &amp; ∀b,s \\
&amp; m_{b,m}≥0, &amp; ∀b,m \\
&amp; z_{b,s}^f∈\{0,1\}, &amp; ∀b,s \\
&amp; z_{b,s}^l∈\{0,1\}, &amp; ∀b,s \\
&amp; x_{b,s}≥0, &amp; ∀b,s \\
&amp; x_{b,m}≥0, &amp; ∀b,m \\
&amp; w_{b,b&#39;}∈\{0,1\}, &amp; ∀b,b&#39; \\
&amp; v_{b,m}∈\{0,1\}, &amp; ∀b,m \\
&amp; \\
&amp; ∑_{p∈P_b} W_p n_{p,s} ≤ b_{b,s}, &amp; ∀s,b \\
&amp; ∑_b b_{b,s} ≤ W_s, &amp; ∀s \\
&amp; b_{b,s} ≤ W_s z_{b,s}, &amp; ∀b,s \\
&amp; b_{b,s} ≥ m_{b,m} - W_s (1 - z_{b,s}) - SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; b_{b,s} ≤ m_{b,m} + W_s (1 - z_{b,s}) + SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; \\
&amp; ∑_s z_{b,s}^f ≤ 1, &amp; ∀b \\
&amp; ∑_s z_{b,s}^l ≤ 1, &amp; ∀b \\
&amp; z_{b,s}^f = z_{b,s}, &amp; ∀b,s=1 \\
&amp; z_{b,s}^l = z_{b,s}, &amp; ∀b,s=|S| \\
&amp; z_{b,s+1}^f + z_{b,s} = z_{b,s+1} + z_{b,s}^l, &amp; ∀b,s∣s≤|S|-1 \\
&amp; \\
&amp; ∑_{p∈P_b} n_{p,s} ≥ z_{b,s}, &amp; ∀b,s \\
&amp; n_{p,s} ≤ N_p^{max} z_{b,s}, &amp; ∀b,p,s∣p∈P_b \\
&amp; \\
&amp; x_{b,s} ≤ W_s z_{b,s}, &amp; ∀b,s \\
&amp; x_{b,s} + b_{b,s} ≤ W_s, &amp; ∀b,s \\
&amp; x_{b,s} + W_s (1 - z_{b,s}) ≥ x_{b&#39;,s} + b_{b,s} - W_s (1 - w_{b,b&#39;}), &amp; ∀b,b&#39;,m∣b≠b&#39; \\
&amp; x_{b&#39;,s} + W_s (1 - z_{b&#39;, s}) ≥ x_{b,s} + b_{b,s} - W_s w_{b,b&#39;}, &amp; ∀b,b&#39;,m∣b≠b&#39; \\
&amp; x_{b,m} ≥ x_{b,s} - W_s (1 - z_{b,s}) - SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; x_{b,m} ≤ x_{b,s} + W_s (1 - z_{b,s}) + SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; \\
&amp; n_{p,s} ≤ N_p^{max} v_{b,m}, &amp; ∀p,b,m,s∣s∈S_m,p∈P_b \\
&amp; ∑_m v_{b,m} ≤ 1, &amp; ∀b
\end{aligned}\]</div><h2><a class="nav-anchor" id="IO-1" href="#IO-1">IO</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.load_parameters" href="#ShelfSpaceAllocation.load_parameters"><code>ShelfSpaceAllocation.load_parameters</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Load sets, subsets and parameters from CSV files.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/ShelfSpaceAllocation.jl#L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.save_results" href="#ShelfSpaceAllocation.save_results"><code>ShelfSpaceAllocation.save_results</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Save parameters and variables into JSON file.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/ShelfSpaceAllocation.jl#L81">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.extract_variables" href="#ShelfSpaceAllocation.extract_variables"><code>ShelfSpaceAllocation.extract_variables</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Extract optimized values from the model.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/ShelfSpaceAllocation.jl#L59">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.extract_objectives" href="#ShelfSpaceAllocation.extract_objectives"><code>ShelfSpaceAllocation.extract_objectives</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Extract objective values for individual objectives.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/ShelfSpaceAllocation.jl#L64">source</a></section><h2><a class="nav-anchor" id="Plotting-1" href="#Plotting-1">Plotting</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.planogram" href="#ShelfSpaceAllocation.planogram"><code>ShelfSpaceAllocation.planogram</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Creates a planogram which visualizes the product placement on the shelves.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L5">source</a><div><div><p>Create a planogram for each module.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L48">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.product_facings" href="#ShelfSpaceAllocation.product_facings"><code>ShelfSpaceAllocation.product_facings</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Creates a barchart of number of product facings per product.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L93">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.block_allocation" href="#ShelfSpaceAllocation.block_allocation"><code>ShelfSpaceAllocation.block_allocation</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Block starting locations and widths.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L53">source</a><div><div><p>Create block_allocation for each module.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.demand_and_sales" href="#ShelfSpaceAllocation.demand_and_sales"><code>ShelfSpaceAllocation.demand_and_sales</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Bar chart of demand and sales per product.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L125">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.fill_amount" href="#ShelfSpaceAllocation.fill_amount"><code>ShelfSpaceAllocation.fill_amount</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Plot the total number of allocated facings per product per block.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L155">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.fill_percentage" href="#ShelfSpaceAllocation.fill_percentage"><code>ShelfSpaceAllocation.fill_percentage</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Plot the percentage of allocated facings of maximum facings per block.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/270a3415995930afea8840d00628376ddf2cf621/src/plotting.jl#L227">source</a></section><footer><hr/><a class="previous" href="../heuristics/"><span class="direction">Previous</span><span class="title">Heuristics</span></a></footer></article></body></html>
